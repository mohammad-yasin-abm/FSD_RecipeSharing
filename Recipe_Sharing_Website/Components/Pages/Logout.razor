@page "/logout"
 
@rendermode @(new Microsoft.AspNetCore.Components.Web.InteractiveServerRenderMode(prerender: false))

@using Recipe_Sharing_Website.Data
@inject IHttpContextAccessor HttpContextAccessor
@inject NavigationManager Nav

<p>Logging out...</p>

@code {
    protected override void OnInitialized()
    {
        if (HttpContextAccessor.HttpContext is HttpContext ctx)
        {
            AuthSession.Logout(ctx.Session);
        }

        Nav.NavigateTo("/", true);
    }
}
